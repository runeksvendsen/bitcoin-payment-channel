<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Data.Aeson.Types</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Data-Aeson-Types.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Data-Aeson-Types.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">aeson-0.9.0.1: Fast JSON parsing and encoding</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Copyright</th><td>(c) 2011, 2012 Bryan O'Sullivan
              (c) 2011 MailRank, Inc.</td></tr><tr><th>License</th><td>Apache</td></tr><tr><th>Maintainer</th><td>Bryan O'Sullivan &lt;bos@serpentine.com&gt;</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>portable</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell98</td></tr></table><p class="caption">Data.Aeson.Types</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Core JSON types</a></li><li><a href="#g:2">Convenience types and functions</a></li><li><a href="#g:3">Type conversion</a><ul><li><a href="#g:4">Generic JSON classes</a></li></ul></li><li><a href="#g:5">Inspecting <code><code>Value</code>s</code></a></li><li><a href="#g:6">Constructors and accessors</a></li><li><a href="#g:7">Generic and TH encoding configuration</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Types for working with JSON data.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Value">Value</a><ul class="subs"><li>= <a href="#v:Object">Object</a> !<a href="Data-Aeson-Types.html#t:Object">Object</a></li><li>| <a href="#v:Array">Array</a> !<a href="Data-Aeson-Types.html#t:Array">Array</a></li><li>| <a href="#v:String">String</a> !<a href="../text-1.2.2.0/Data-Text.html#t:Text">Text</a></li><li>| <a href="#v:Number">Number</a> !<a href="../scientific-0.3.4.4/Data-Scientific.html#t:Scientific">Scientific</a></li><li>| <a href="#v:Bool">Bool</a> !<a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></li><li>| <a href="#v:Null">Null</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:Array">Array</a> = <a href="../vector-0.11.0.0/Data-Vector.html#t:Vector">Vector</a> <a href="Data-Aeson-Types.html#t:Value">Value</a></li><li class="src short"><a href="#v:emptyArray">emptyArray</a> :: <a href="Data-Aeson-Types.html#t:Value">Value</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:Pair">Pair</a> = (<a href="../text-1.2.2.0/Data-Text.html#t:Text">Text</a>, <a href="Data-Aeson-Types.html#t:Value">Value</a>)</li><li class="src short"><span class="keyword">type</span> <a href="#t:Object">Object</a> = <a href="../unordered-containers-0.2.5.1/Data-HashMap-Strict.html#t:HashMap">HashMap</a> <a href="../text-1.2.2.0/Data-Text.html#t:Text">Text</a> <a href="Data-Aeson-Types.html#t:Value">Value</a></li><li class="src short"><a href="#v:emptyObject">emptyObject</a> :: <a href="Data-Aeson-Types.html#t:Value">Value</a></li><li class="src short"><span class="keyword">newtype</span> <a href="#t:DotNetTime">DotNetTime</a> = <a href="#v:DotNetTime">DotNetTime</a> {<ul class="subs"><li><a href="#v:fromDotNetTime">fromDotNetTime</a> :: <a href="../time-1.5.0.1/Data-Time-Clock.html#t:UTCTime">UTCTime</a></li></ul>}</li><li class="src short"><a href="#v:typeMismatch">typeMismatch</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a</li><li class="src short"><span class="keyword">data</span> <a href="#t:Parser">Parser</a> a</li><li class="src short"><span class="keyword">data</span> <a href="#t:Result">Result</a> a<ul class="subs"><li>= <a href="#v:Error">Error</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li>| <a href="#v:Success">Success</a> a</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:FromJSON">FromJSON</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:parseJSON">parseJSON</a> :: <a href="Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a</li></ul></li><li class="src short"><a href="#v:fromJSON">fromJSON</a> :: <a href="Data-Aeson-Types.html#t:FromJSON">FromJSON</a> a =&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Data-Aeson-Types.html#t:Result">Result</a> a</li><li class="src short"><a href="#v:parse">parse</a> :: (a -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> b) -&gt; a -&gt; <a href="Data-Aeson-Types.html#t:Result">Result</a> b</li><li class="src short"><a href="#v:parseEither">parseEither</a> :: (a -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> b) -&gt; a -&gt; <a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> b</li><li class="src short"><a href="#v:parseMaybe">parseMaybe</a> :: (a -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> b) -&gt; a -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> b</li><li class="src short"><span class="keyword">class</span> <a href="#t:ToJSON">ToJSON</a> a <span class="keyword">where</span><ul class="subs"><li><a href="#v:toJSON">toJSON</a> :: a -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a></li></ul></li><li class="src short"><a href="#v:modifyFailure">modifyFailure</a> :: (<a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a>) -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a</li><li class="src short"><span class="keyword">class</span> <a href="#t:GFromJSON">GFromJSON</a> f <span class="keyword">where</span><ul class="subs"><li><a href="#v:gParseJSON">gParseJSON</a> :: <a href="Data-Aeson-Types.html#t:Options">Options</a> -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> (f a)</li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:GToJSON">GToJSON</a> f <span class="keyword">where</span><ul class="subs"><li><a href="#v:gToJSON">gToJSON</a> :: <a href="Data-Aeson-Types.html#t:Options">Options</a> -&gt; f a -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a></li></ul></li><li class="src short"><a href="#v:genericToJSON">genericToJSON</a> :: (<a href="../base-4.8.2.0/GHC-Generics.html#t:Generic">Generic</a> a, <a href="Data-Aeson-Types.html#t:GToJSON">GToJSON</a> (<a href="../base-4.8.2.0/GHC-Generics.html#t:Rep">Rep</a> a)) =&gt; <a href="Data-Aeson-Types.html#t:Options">Options</a> -&gt; a -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a></li><li class="src short"><a href="#v:genericParseJSON">genericParseJSON</a> :: (<a href="../base-4.8.2.0/GHC-Generics.html#t:Generic">Generic</a> a, <a href="Data-Aeson-Types.html#t:GFromJSON">GFromJSON</a> (<a href="../base-4.8.2.0/GHC-Generics.html#t:Rep">Rep</a> a)) =&gt; <a href="Data-Aeson-Types.html#t:Options">Options</a> -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a</li><li class="src short"><a href="#v:withObject">withObject</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; (<a href="Data-Aeson-Types.html#t:Object">Object</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a) -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a</li><li class="src short"><a href="#v:withText">withText</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; (<a href="../text-1.2.2.0/Data-Text.html#t:Text">Text</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a) -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a</li><li class="src short"><a href="#v:withArray">withArray</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; (<a href="Data-Aeson-Types.html#t:Array">Array</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a) -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a</li><li class="src short"><a href="#v:withNumber">withNumber</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; (<a href="../attoparsec-0.13.0.1/Data-Attoparsec-Number.html#t:Number">Number</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a) -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a</li><li class="src short"><a href="#v:withScientific">withScientific</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; (<a href="../scientific-0.3.4.4/Data-Scientific.html#t:Scientific">Scientific</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a) -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a</li><li class="src short"><a href="#v:withBool">withBool</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; (<a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a) -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a</li><li class="src short"><a href="#v:.-61-">(.=)</a> :: <a href="Data-Aeson-Types.html#t:ToJSON">ToJSON</a> a =&gt; <a href="../text-1.2.2.0/Data-Text.html#t:Text">Text</a> -&gt; a -&gt; <a href="Data-Aeson-Types.html#t:Pair">Pair</a></li><li class="src short"><a href="#v:.:">(.:)</a> :: <a href="Data-Aeson-Types.html#t:FromJSON">FromJSON</a> a =&gt; <a href="Data-Aeson-Types.html#t:Object">Object</a> -&gt; <a href="../text-1.2.2.0/Data-Text.html#t:Text">Text</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a</li><li class="src short"><a href="#v:.:-63-">(.:?)</a> :: <a href="Data-Aeson-Types.html#t:FromJSON">FromJSON</a> a =&gt; <a href="Data-Aeson-Types.html#t:Object">Object</a> -&gt; <a href="../text-1.2.2.0/Data-Text.html#t:Text">Text</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> a)</li><li class="src short"><a href="#v:.-33--61-">(.!=)</a> :: <a href="Data-Aeson-Types.html#t:Parser">Parser</a> (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> a) -&gt; a -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a</li><li class="src short"><a href="#v:object">object</a> :: [<a href="Data-Aeson-Types.html#t:Pair">Pair</a>] -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Options">Options</a> = <a href="#v:Options">Options</a> {<ul class="subs"><li><a href="#v:fieldLabelModifier">fieldLabelModifier</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li><a href="#v:constructorTagModifier">constructorTagModifier</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li><a href="#v:allNullaryToStringTag">allNullaryToStringTag</a> :: <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:omitNothingFields">omitNothingFields</a> :: <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></li><li><a href="#v:sumEncoding">sumEncoding</a> :: <a href="Data-Aeson-Types.html#t:SumEncoding">SumEncoding</a></li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:SumEncoding">SumEncoding</a><ul class="subs"><li>= <a href="#v:TaggedObject">TaggedObject</a> { <ul class="subs"><li><a href="#v:tagFieldName">tagFieldName</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li><a href="#v:contentsFieldName">contentsFieldName</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li></ul> }</li><li>| <a href="#v:ObjectWithSingleField">ObjectWithSingleField</a></li><li>| <a href="#v:TwoElemArray">TwoElemArray</a></li></ul></li><li class="src short"><a href="#v:camelTo">camelTo</a> :: <a href="../base-4.8.2.0/Data-Char.html#t:Char">Char</a> -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:defaultOptions">defaultOptions</a> :: <a href="Data-Aeson-Types.html#t:Options">Options</a></li><li class="src short"><a href="#v:defaultTaggedObject">defaultTaggedObject</a> :: <a href="Data-Aeson-Types.html#t:SumEncoding">SumEncoding</a></li></ul></div><div id="interface"><h1 id="g:1">Core JSON types</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Value" class="def">Value</a> <a href="src/Data-Aeson-Types-Internal.html#Value" class="link">Source</a></p><div class="doc"><p>A JSON value represented as a Haskell value.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Object" class="def">Object</a> !<a href="Data-Aeson-Types.html#t:Object">Object</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Array" class="def">Array</a> !<a href="Data-Aeson-Types.html#t:Array">Array</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:String" class="def">String</a> !<a href="../text-1.2.2.0/Data-Text.html#t:Text">Text</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Number" class="def">Number</a> !<a href="../scientific-0.3.4.4/Data-Scientific.html#t:Scientific">Scientific</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Bool" class="def">Bool</a> !<a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Null" class="def">Null</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Value" class="caption collapser" onclick="toggleSection('i:Value')">Instances</p><div id="section.i:Value" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Data-Aeson-Types.html#t:Value">Value</a></span> <a href="src/Data-Aeson-Types-Internal.html#line-183" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Data.html#t:Data">Data</a> <a href="Data-Aeson-Types.html#t:Value">Value</a></span> <a href="src/Data-Aeson-Types-Internal.html#line-183" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Read.html#t:Read">Read</a> <a href="Data-Aeson-Types.html#t:Value">Value</a></span> <a href="src/Data-Aeson-Types-Internal.html#line-183" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Data-Aeson-Types.html#t:Value">Value</a></span> <a href="src/Data-Aeson-Types-Internal.html#line-183" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-String.html#t:IsString">IsString</a> <a href="Data-Aeson-Types.html#t:Value">Value</a></span> <a href="src/Data-Aeson-Types-Internal.html#line-204" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../deepseq-1.4.1.1/Control-DeepSeq.html#t:NFData">NFData</a> <a href="Data-Aeson-Types.html#t:Value">Value</a></span> <a href="src/Data-Aeson-Types-Internal.html#line-196" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../hashable-1.2.4.0/Data-Hashable.html#t:Hashable">Hashable</a> <a href="Data-Aeson-Types.html#t:Value">Value</a></span> <a href="src/Data-Aeson-Types-Internal.html#line-218" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Array" class="def">Array</a> = <a href="../vector-0.11.0.0/Data-Vector.html#t:Vector">Vector</a> <a href="Data-Aeson-Types.html#t:Value">Value</a> <a href="src/Data-Aeson-Types-Internal.html#Array" class="link">Source</a></p><div class="doc"><p>A JSON &quot;array&quot; (sequence).</p></div></div><div class="top"><p class="src"><a name="v:emptyArray" class="def">emptyArray</a> :: <a href="Data-Aeson-Types.html#t:Value">Value</a> <a href="src/Data-Aeson-Types-Internal.html#emptyArray" class="link">Source</a></p><div class="doc"><p>The empty array.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Pair" class="def">Pair</a> = (<a href="../text-1.2.2.0/Data-Text.html#t:Text">Text</a>, <a href="Data-Aeson-Types.html#t:Value">Value</a>) <a href="src/Data-Aeson-Types-Internal.html#Pair" class="link">Source</a></p><div class="doc"><p>A key/value pair for an <code><a href="Data-Aeson-Types.html#t:Object">Object</a></code>.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:Object" class="def">Object</a> = <a href="../unordered-containers-0.2.5.1/Data-HashMap-Strict.html#t:HashMap">HashMap</a> <a href="../text-1.2.2.0/Data-Text.html#t:Text">Text</a> <a href="Data-Aeson-Types.html#t:Value">Value</a> <a href="src/Data-Aeson-Types-Internal.html#Object" class="link">Source</a></p><div class="doc"><p>A JSON &quot;object&quot; (key/value map).</p></div></div><div class="top"><p class="src"><a name="v:emptyObject" class="def">emptyObject</a> :: <a href="Data-Aeson-Types.html#t:Value">Value</a> <a href="src/Data-Aeson-Types-Internal.html#emptyObject" class="link">Source</a></p><div class="doc"><p>The empty object.</p></div></div><h1 id="g:2">Convenience types and functions</h1><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:DotNetTime" class="def">DotNetTime</a> <a href="src/Data-Aeson-Types-Internal.html#DotNetTime" class="link">Source</a></p><div class="doc"><p>A newtype wrapper for <code><a href="../time-1.5.0.1/Data-Time-Clock.html#t:UTCTime">UTCTime</a></code> that uses the same non-standard
 serialization format as Microsoft .NET, whose <code>System.DateTime</code>
 type is by default serialized to JSON as in the following example:</p><pre>/Date(1302547608878)/</pre><p>The number represents milliseconds since the Unix epoch.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:DotNetTime" class="def">DotNetTime</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:fromDotNetTime" class="def">fromDotNetTime</a> :: <a href="../time-1.5.0.1/Data-Time-Clock.html#t:UTCTime">UTCTime</a></dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:DotNetTime" class="caption collapser" onclick="toggleSection('i:DotNetTime')">Instances</p><div id="section.i:DotNetTime" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Data-Aeson-Types.html#t:DotNetTime">DotNetTime</a></span> <a href="src/Data-Aeson-Types-Internal.html#line-194" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> <a href="Data-Aeson-Types.html#t:DotNetTime">DotNetTime</a></span> <a href="src/Data-Aeson-Types-Internal.html#line-194" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Read.html#t:Read">Read</a> <a href="Data-Aeson-Types.html#t:DotNetTime">DotNetTime</a></span> <a href="src/Data-Aeson-Types-Internal.html#line-194" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Data-Aeson-Types.html#t:DotNetTime">DotNetTime</a></span> <a href="src/Data-Aeson-Types-Internal.html#line-194" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../time-1.5.0.1/Data-Time-Format.html#t:FormatTime">FormatTime</a> <a href="Data-Aeson-Types.html#t:DotNetTime">DotNetTime</a></span> <a href="src/Data-Aeson-Types-Internal.html#line-194" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:typeMismatch" class="def">typeMismatch</a> <a href="src/Data-Aeson-Types-Instances.html#typeMismatch" class="link">Source</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></td><td class="doc"><p>The name of the type you are trying to parse.</p></td></tr><tr><td class="src">-&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a></td><td class="doc"><p>The actual value encountered.</p></td></tr><tr><td class="src">-&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Fail parsing due to a type mismatch, with a descriptive message.</p></div></div><h1 id="g:3">Type conversion</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Parser" class="def">Parser</a> a <a href="src/Data-Aeson-Types-Internal.html#Parser" class="link">Source</a></p><div class="doc"><p>A continuation-based parser type.</p></div><div class="subs instances"><p id="control.i:Parser" class="caption collapser" onclick="toggleSection('i:Parser')">Instances</p><div id="section.i:Parser" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> <a href="Data-Aeson-Types.html#t:Parser">Parser</a></span> <a href="src/Data-Aeson-Types-Internal.html#line-124" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> <a href="Data-Aeson-Types.html#t:Parser">Parser</a></span> <a href="src/Data-Aeson-Types-Internal.html#line-133" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> <a href="Data-Aeson-Types.html#t:Parser">Parser</a></span> <a href="src/Data-Aeson-Types-Internal.html#line-138" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Applicative.html#t:Alternative">Alternative</a> <a href="Data-Aeson-Types.html#t:Parser">Parser</a></span> <a href="src/Data-Aeson-Types-Internal.html#line-144" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> <a href="Data-Aeson-Types.html#t:Parser">Parser</a></span> <a href="src/Data-Aeson-Types-Internal.html#line-150" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> (<a href="Data-Aeson-Types.html#t:Parser">Parser</a> a)</span> <a href="src/Data-Aeson-Types-Internal.html#line-157" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Result" class="def">Result</a> a <a href="src/Data-Aeson-Types-Internal.html#Result" class="link">Source</a></p><div class="doc"><p>The result of running a <code><a href="Data-Aeson-Types.html#t:Parser">Parser</a></code>.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Error" class="def">Error</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:Success" class="def">Success</a> a</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Result" class="caption collapser" onclick="toggleSection('i:Result')">Instances</p><div id="section.i:Result" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Monad.html#t:Monad">Monad</a> <a href="Data-Aeson-Types.html#t:Result">Result</a></span> <a href="src/Data-Aeson-Types-Internal.html#line-79" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Functor.html#t:Functor">Functor</a> <a href="Data-Aeson-Types.html#t:Result">Result</a></span> <a href="src/Data-Aeson-Types-Internal.html#line-74" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Applicative.html#t:Applicative">Applicative</a> <a href="Data-Aeson-Types.html#t:Result">Result</a></span> <a href="src/Data-Aeson-Types-Internal.html#line-86" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Applicative.html#t:Alternative">Alternative</a> <a href="Data-Aeson-Types.html#t:Result">Result</a></span> <a href="src/Data-Aeson-Types-Internal.html#line-99" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Control-Monad.html#t:MonadPlus">MonadPlus</a> <a href="Data-Aeson-Types.html#t:Result">Result</a></span> <a href="src/Data-Aeson-Types-Internal.html#line-92" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> a =&gt; <a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> (<a href="Data-Aeson-Types.html#t:Result">Result</a> a)</span> <a href="src/Data-Aeson-Types-Internal.html#line-68" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> a =&gt; <a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> (<a href="Data-Aeson-Types.html#t:Result">Result</a> a)</span> <a href="src/Data-Aeson-Types-Internal.html#line-68" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Monoid.html#t:Monoid">Monoid</a> (<a href="Data-Aeson-Types.html#t:Result">Result</a> a)</span> <a href="src/Data-Aeson-Types-Internal.html#line-105" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../deepseq-1.4.1.1/Control-DeepSeq.html#t:NFData">NFData</a> a =&gt; <a href="../deepseq-1.4.1.1/Control-DeepSeq.html#t:NFData">NFData</a> (<a href="Data-Aeson-Types.html#t:Result">Result</a> a)</span> <a href="src/Data-Aeson-Types-Internal.html#line-70" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:FromJSON" class="def">FromJSON</a> a <span class="keyword">where</span> <a href="src/Data-Aeson-Types-Class.html#FromJSON" class="link">Source</a></p><div class="doc"><p>A type that can be converted from JSON, with the possibility of
 failure.</p><p>When writing an instance, use <code>empty</code>, <code>mzero</code>, or <code><a href="../base-4.8.2.0/Control-Monad.html#v:fail">fail</a></code> to make a
 conversion fail, e.g. if an <code><a href="Data-Aeson-Types.html#t:Object">Object</a></code> is missing a required key, or
 the value is of the wrong type.</p><p>An example type and instance:</p><pre>{-# LANGUAGE OverloadedStrings #-}

data Coord = Coord { x :: Double, y :: Double }

instance FromJSON Coord where
  parseJSON (<code><a href="Data-Aeson-Types.html#t:Object">Object</a></code> v) = Coord    <code><a href="../base-4.8.2.0/Data-Functor.html#v:-60--36--62-">&lt;$&gt;</a></code>
                         v <code>.:</code> &quot;x&quot; <code><a href="../base-4.8.2.0/Control-Applicative.html#v:-60--42--62-">&lt;*&gt;</a></code>
                         v <code>.:</code> &quot;y&quot;

  -- A non-<code><a href="Data-Aeson-Types.html#t:Object">Object</a></code> value is of the wrong type, so use <code>mzero</code> to fail.
  parseJSON _          = <code>mzero</code>
</pre><p>Note the use of the <code>OverloadedStrings</code> language extension which enables
 <code>Text</code> values to be written as string literals.</p><p>Instead of manually writing your <code><a href="Data-Aeson-Types.html#t:FromJSON">FromJSON</a></code> instance, there are three options
 to do it automatically:</p><ul><li><a href="Data-Aeson-TH.html">Data.Aeson.TH</a> provides template-haskell functions which will derive an
 instance at compile-time. The generated instance is optimized for your type
 so will probably be more efficient than the following two options:</li><li><a href="Data-Aeson-Generic.html">Data.Aeson.Generic</a> provides a generic <code>fromJSON</code> function that parses to
 any type which is an instance of <code>Data</code>.</li><li>If your compiler has support for the <code>DeriveGeneric</code> and
 <code>DefaultSignatures</code> language extensions, <code>parseJSON</code> will have a default
 generic implementation.</li></ul><p>To use this, simply add a <code>deriving <code><a href="../base-4.8.2.0/GHC-Generics.html#t:Generic">Generic</a></code></code> clause to your datatype and
 declare a <code>FromJSON</code> instance for your datatype without giving a definition
 for <code>parseJSON</code>.</p><p>For example the previous example can be simplified to just:</p><pre>{-# LANGUAGE DeriveGeneric #-}

import GHC.Generics

data Coord = Coord { x :: Double, y :: Double } deriving Generic

instance FromJSON Coord
</pre><p>Note that, instead of using <code>DefaultSignatures</code>, it's also possible
 to parameterize the generic decoding using <code><a href="Data-Aeson-Types.html#v:genericParseJSON">genericParseJSON</a></code> applied
 to your encoding/decoding <code><a href="Data-Aeson-Types.html#t:Options">Options</a></code>:</p><pre>instance FromJSON Coord where
    parseJSON = <code><a href="Data-Aeson-Types.html#v:genericParseJSON">genericParseJSON</a></code> <code><a href="Data-Aeson-Types.html#v:defaultOptions">defaultOptions</a></code>
</pre></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src">Nothing</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:parseJSON" class="def">parseJSON</a> :: <a href="Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a <a href="src/Data-Aeson-Types-Class.html#parseJSON" class="link">Source</a></p></div></div><div class="top"><p class="src"><a name="v:fromJSON" class="def">fromJSON</a> :: <a href="Data-Aeson-Types.html#t:FromJSON">FromJSON</a> a =&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Data-Aeson-Types.html#t:Result">Result</a> a <a href="src/Data-Aeson-Types-Instances.html#fromJSON" class="link">Source</a></p><div class="doc"><p>Convert a value from JSON, failing if the types do not match.</p></div></div><div class="top"><p class="src"><a name="v:parse" class="def">parse</a> :: (a -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> b) -&gt; a -&gt; <a href="Data-Aeson-Types.html#t:Result">Result</a> b <a href="src/Data-Aeson-Types-Internal.html#parse" class="link">Source</a></p><div class="doc"><p>Run a <code><a href="Data-Aeson-Types.html#t:Parser">Parser</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:parseEither" class="def">parseEither</a> :: (a -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> b) -&gt; a -&gt; <a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> b <a href="src/Data-Aeson-Types-Internal.html#parseEither" class="link">Source</a></p><div class="doc"><p>Run a <code><a href="Data-Aeson-Types.html#t:Parser">Parser</a></code> with an <code><a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a></code> result type.</p></div></div><div class="top"><p class="src"><a name="v:parseMaybe" class="def">parseMaybe</a> :: (a -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> b) -&gt; a -&gt; <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> b <a href="src/Data-Aeson-Types-Internal.html#parseMaybe" class="link">Source</a></p><div class="doc"><p>Run a <code><a href="Data-Aeson-Types.html#t:Parser">Parser</a></code> with a <code><a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a></code> result type.</p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:ToJSON" class="def">ToJSON</a> a <span class="keyword">where</span> <a href="src/Data-Aeson-Types-Class.html#ToJSON" class="link">Source</a></p><div class="doc"><p>A type that can be converted to JSON.</p><p>An example type and instance:</p><p>@{-# LANGUAGE OverloadedStrings #-}</p><p>data Coord = Coord { x :: Double, y :: Double }</p><p>instance ToJSON Coord where
   toJSON (Coord x y) = <code><a href="Data-Aeson-Types.html#v:object">object</a></code> [&quot;x&quot; <code>.=</code> x, &quot;y&quot; <code>.=</code> y]
 @</p><p>Note the use of the <code>OverloadedStrings</code> language extension which enables
 <code>Text</code> values to be written as string literals.</p><p>Instead of manually writing your <code><a href="Data-Aeson-Types.html#t:ToJSON">ToJSON</a></code> instance, there are three options
 to do it automatically:</p><ul><li><a href="Data-Aeson-TH.html">Data.Aeson.TH</a> provides template-haskell functions which will derive an
 instance at compile-time. The generated instance is optimized for your type
 so will probably be more efficient than the following two options:</li><li><a href="Data-Aeson-Generic.html">Data.Aeson.Generic</a> provides a generic <code>toJSON</code> function that accepts any
 type which is an instance of <code>Data</code>.</li><li>If your compiler has support for the <code>DeriveGeneric</code> and
 <code>DefaultSignatures</code> language extensions (GHC 7.2 and newer),
 <code>toJSON</code> will have a default generic implementation.</li></ul><p>To use the latter option, simply add a <code>deriving <code><a href="../base-4.8.2.0/GHC-Generics.html#t:Generic">Generic</a></code></code> clause to your
 datatype and declare a <code>ToJSON</code> instance for your datatype without giving a
 definition for <code>toJSON</code>.</p><p>For example the previous example can be simplified to just:</p><p>@{-# LANGUAGE DeriveGeneric #-}</p><p>import GHC.Generics</p><p>data Coord = Coord { x :: Double, y :: Double } deriving Generic</p><p>instance ToJSON Coord
 @</p><p>Note that, instead of using <code>DefaultSignatures</code>, it's also possible
 to parameterize the generic encoding using <code><a href="Data-Aeson-Types.html#v:genericToJSON">genericToJSON</a></code> applied
 to your encoding/decoding <code><a href="Data-Aeson-Types.html#t:Options">Options</a></code>:</p><pre>instance ToJSON Coord where
    toJSON = <code><a href="Data-Aeson-Types.html#v:genericToJSON">genericToJSON</a></code> <code><a href="Data-Aeson-Types.html#v:defaultOptions">defaultOptions</a></code>
</pre></div><div class="subs minimal"><p class="caption">Minimal complete definition</p><p class="src">Nothing</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:toJSON" class="def">toJSON</a> :: a -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> <a href="src/Data-Aeson-Types-Class.html#toJSON" class="link">Source</a></p></div></div><div class="top"><p class="src"><a name="v:modifyFailure" class="def">modifyFailure</a> :: (<a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a>) -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a <a href="src/Data-Aeson-Types-Internal.html#modifyFailure" class="link">Source</a></p><div class="doc"><p>If the inner <code>Parser</code> failed, modify the failure message using the
 provided function. This allows you to create more descriptive error messages.
 For example:</p><pre>parseJSON (Object o) = modifyFailure
    (&quot;Parsing of the Foo value failed: &quot; ++)
    (Foo &lt;$&gt; o .: &quot;someField&quot;)</pre><p>Since 0.6.2.0</p></div></div><h2 id="g:4">Generic JSON classes</h2><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:GFromJSON" class="def">GFromJSON</a> f <span class="keyword">where</span> <a href="src/Data-Aeson-Types-Class.html#GFromJSON" class="link">Source</a></p><div class="doc"><p>Class of generic representation types (<code><a href="../base-4.8.2.0/GHC-Generics.html#t:Rep">Rep</a></code>) that can be converted from JSON.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:gParseJSON" class="def">gParseJSON</a> :: <a href="Data-Aeson-Types.html#t:Options">Options</a> -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> (f a) <a href="src/Data-Aeson-Types-Class.html#gParseJSON" class="link">Source</a></p><div class="doc"><p>This method (applied to <code><a href="Data-Aeson-Types.html#v:defaultOptions">defaultOptions</a></code>) is used as the
 default generic implementation of <code><a href="Data-Aeson-Types.html#v:parseJSON">parseJSON</a></code>.</p></div></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a name="t:GToJSON" class="def">GToJSON</a> f <span class="keyword">where</span> <a href="src/Data-Aeson-Types-Class.html#GToJSON" class="link">Source</a></p><div class="doc"><p>Class of generic representation types (<code><a href="../base-4.8.2.0/GHC-Generics.html#t:Rep">Rep</a></code>) that can be converted to JSON.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:gToJSON" class="def">gToJSON</a> :: <a href="Data-Aeson-Types.html#t:Options">Options</a> -&gt; f a -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> <a href="src/Data-Aeson-Types-Class.html#gToJSON" class="link">Source</a></p><div class="doc"><p>This method (applied to <code><a href="Data-Aeson-Types.html#v:defaultOptions">defaultOptions</a></code>) is used as the
 default generic implementation of <code><a href="Data-Aeson-Types.html#v:toJSON">toJSON</a></code>.</p></div></div></div><div class="top"><p class="src"><a name="v:genericToJSON" class="def">genericToJSON</a> :: (<a href="../base-4.8.2.0/GHC-Generics.html#t:Generic">Generic</a> a, <a href="Data-Aeson-Types.html#t:GToJSON">GToJSON</a> (<a href="../base-4.8.2.0/GHC-Generics.html#t:Rep">Rep</a> a)) =&gt; <a href="Data-Aeson-Types.html#t:Options">Options</a> -&gt; a -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> <a href="src/Data-Aeson-Types-Class.html#genericToJSON" class="link">Source</a></p><div class="doc"><p>A configurable generic JSON encoder. This function applied to
 <code><a href="Data-Aeson-Types.html#v:defaultOptions">defaultOptions</a></code> is used as the default for <code><a href="Data-Aeson-Types.html#v:toJSON">toJSON</a></code> when the type
 is an instance of <code><a href="../base-4.8.2.0/GHC-Generics.html#t:Generic">Generic</a></code>.</p></div></div><div class="top"><p class="src"><a name="v:genericParseJSON" class="def">genericParseJSON</a> :: (<a href="../base-4.8.2.0/GHC-Generics.html#t:Generic">Generic</a> a, <a href="Data-Aeson-Types.html#t:GFromJSON">GFromJSON</a> (<a href="../base-4.8.2.0/GHC-Generics.html#t:Rep">Rep</a> a)) =&gt; <a href="Data-Aeson-Types.html#t:Options">Options</a> -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a <a href="src/Data-Aeson-Types-Class.html#genericParseJSON" class="link">Source</a></p><div class="doc"><p>A configurable generic JSON decoder. This function applied to
 <code><a href="Data-Aeson-Types.html#v:defaultOptions">defaultOptions</a></code> is used as the default for <code><a href="Data-Aeson-Types.html#v:parseJSON">parseJSON</a></code> when the
 type is an instance of <code><a href="../base-4.8.2.0/GHC-Generics.html#t:Generic">Generic</a></code>.</p></div></div><h1 id="g:5">Inspecting <code><code><a href="Data-Aeson-Types.html#t:Value">Value</a></code>s</code></h1><div class="top"><p class="src"><a name="v:withObject" class="def">withObject</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; (<a href="Data-Aeson-Types.html#t:Object">Object</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a) -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a <a href="src/Data-Aeson-Types-Instances.html#withObject" class="link">Source</a></p><div class="doc"><p><code>withObject expected f value</code> applies <code>f</code> to the <code><a href="Data-Aeson-Types.html#t:Object">Object</a></code> when <code>value</code> is an <code>Object</code>
   and fails using <code><code><a href="Data-Aeson-Types.html#v:typeMismatch">typeMismatch</a></code> expected</code> otherwise.</p></div></div><div class="top"><p class="src"><a name="v:withText" class="def">withText</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; (<a href="../text-1.2.2.0/Data-Text.html#t:Text">Text</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a) -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a <a href="src/Data-Aeson-Types-Instances.html#withText" class="link">Source</a></p><div class="doc"><p><code>withText expected f value</code> applies <code>f</code> to the <code><a href="../text-1.2.2.0/Data-Text.html#t:Text">Text</a></code> when <code>value</code> is a <code>String</code>
   and fails using <code><code><a href="Data-Aeson-Types.html#v:typeMismatch">typeMismatch</a></code> expected</code> otherwise.</p></div></div><div class="top"><p class="src"><a name="v:withArray" class="def">withArray</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; (<a href="Data-Aeson-Types.html#t:Array">Array</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a) -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a <a href="src/Data-Aeson-Types-Instances.html#withArray" class="link">Source</a></p><div class="doc"><p><code>withArray expected f value</code> applies <code>f</code> to the <code><a href="Data-Aeson-Types.html#t:Array">Array</a></code> when <code>value</code> is an <code>Array</code>
   and fails using <code><code><a href="Data-Aeson-Types.html#v:typeMismatch">typeMismatch</a></code> expected</code> otherwise.</p></div></div><div class="top"><p class="src"><a name="v:withNumber" class="def">withNumber</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; (<a href="../attoparsec-0.13.0.1/Data-Attoparsec-Number.html#t:Number">Number</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a) -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a <a href="src/Data-Aeson-Types-Instances.html#withNumber" class="link">Source</a></p><div class="doc"><div class="warning"><p>Deprecated: Use withScientific instead</p></div><p><code>withNumber expected f value</code> applies <code>f</code> to the <code><a href="../attoparsec-0.13.0.1/Data-Attoparsec-Number.html#t:Number">Number</a></code> when <code>value</code> is a <code><a href="../attoparsec-0.13.0.1/Data-Attoparsec-Number.html#t:Number">Number</a></code>.
   and fails using <code><code><a href="Data-Aeson-Types.html#v:typeMismatch">typeMismatch</a></code> expected</code> otherwise.</p></div></div><div class="top"><p class="src"><a name="v:withScientific" class="def">withScientific</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; (<a href="../scientific-0.3.4.4/Data-Scientific.html#t:Scientific">Scientific</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a) -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a <a href="src/Data-Aeson-Types-Instances.html#withScientific" class="link">Source</a></p><div class="doc"><p><code>withScientific expected f value</code> applies <code>f</code> to the <code><a href="../scientific-0.3.4.4/Data-Scientific.html#t:Scientific">Scientific</a></code> number when <code>value</code> is a <code><a href="../attoparsec-0.13.0.1/Data-Attoparsec-Number.html#t:Number">Number</a></code>.
   and fails using <code><code><a href="Data-Aeson-Types.html#v:typeMismatch">typeMismatch</a></code> expected</code> otherwise.</p></div></div><div class="top"><p class="src"><a name="v:withBool" class="def">withBool</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; (<a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a) -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a <a href="src/Data-Aeson-Types-Instances.html#withBool" class="link">Source</a></p><div class="doc"><p><code>withBool expected f value</code> applies <code>f</code> to the <code><a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></code> when <code>value</code> is a <code>Bool</code>
   and fails using <code><code><a href="Data-Aeson-Types.html#v:typeMismatch">typeMismatch</a></code> expected</code> otherwise.</p></div></div><h1 id="g:6">Constructors and accessors</h1><div class="top"><p class="src"><a name="v:.-61-" class="def">(.=)</a> :: <a href="Data-Aeson-Types.html#t:ToJSON">ToJSON</a> a =&gt; <a href="../text-1.2.2.0/Data-Text.html#t:Text">Text</a> -&gt; a -&gt; <a href="Data-Aeson-Types.html#t:Pair">Pair</a> <a href="src/Data-Aeson-Types-Instances.html#.%3D" class="link">Source</a></p><div class="doc"><p>Construct a <code><a href="Data-Aeson-Types.html#t:Pair">Pair</a></code> from a key and a value.</p></div></div><div class="top"><p class="src"><a name="v:.:" class="def">(.:)</a> :: <a href="Data-Aeson-Types.html#t:FromJSON">FromJSON</a> a =&gt; <a href="Data-Aeson-Types.html#t:Object">Object</a> -&gt; <a href="../text-1.2.2.0/Data-Text.html#t:Text">Text</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a <a href="src/Data-Aeson-Types-Instances.html#.%3A" class="link">Source</a></p><div class="doc"><p>Retrieve the value associated with the given key of an <code><a href="Data-Aeson-Types.html#t:Object">Object</a></code>.
 The result is <code><a href="../base-4.8.2.0/Control-Applicative.html#v:empty">empty</a></code> if the key is not present or the value cannot
 be converted to the desired type.</p><p>This accessor is appropriate if the key and value <em>must</em> be present
 in an object for it to be valid.  If the key and value are
 optional, use '(.:?)' instead.</p></div></div><div class="top"><p class="src"><a name="v:.:-63-" class="def">(.:?)</a> :: <a href="Data-Aeson-Types.html#t:FromJSON">FromJSON</a> a =&gt; <a href="Data-Aeson-Types.html#t:Object">Object</a> -&gt; <a href="../text-1.2.2.0/Data-Text.html#t:Text">Text</a> -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> a) <a href="src/Data-Aeson-Types-Instances.html#.%3A%3F" class="link">Source</a></p><div class="doc"><p>Retrieve the value associated with the given key of an <code><a href="Data-Aeson-Types.html#t:Object">Object</a></code>.
 The result is <code><a href="../base-4.8.2.0/Data-Maybe.html#v:Nothing">Nothing</a></code> if the key is not present, or <code><a href="../base-4.8.2.0/Control-Applicative.html#v:empty">empty</a></code> if
 the value cannot be converted to the desired type.</p><p>This accessor is most useful if the key and value can be absent
 from an object without affecting its validity.  If the key and
 value are mandatory, use '(.:)' instead.</p></div></div><div class="top"><p class="src"><a name="v:.-33--61-" class="def">(.!=)</a> :: <a href="Data-Aeson-Types.html#t:Parser">Parser</a> (<a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> a) -&gt; a -&gt; <a href="Data-Aeson-Types.html#t:Parser">Parser</a> a <a href="src/Data-Aeson-Types-Instances.html#.%21%3D" class="link">Source</a></p><div class="doc"><p>Helper for use in combination with <code><a href="Data-Aeson-Types.html#v:.:-63-">.:?</a></code> to provide default
 values for optional JSON object fields.</p><p>This combinator is most useful if the key and value can be absent
 from an object without affecting its validity and we know a default
 value to assign in that case.  If the key and value are mandatory,
 use '(.:)' instead.</p><p>Example usage:</p><pre> v1 &lt;- o <code><a href="Data-Aeson-Types.html#v:.:-63-">.:?</a></code> &quot;opt_field_with_dfl&quot; .!= &quot;default_val&quot;
 v2 &lt;- o <code><a href="Data-Aeson-Types.html#v:.:">.:</a></code>  &quot;mandatory_field&quot;
 v3 &lt;- o <code><a href="Data-Aeson-Types.html#v:.:-63-">.:?</a></code> &quot;opt_field2&quot;
</pre></div></div><div class="top"><p class="src"><a name="v:object" class="def">object</a> :: [<a href="Data-Aeson-Types.html#t:Pair">Pair</a>] -&gt; <a href="Data-Aeson-Types.html#t:Value">Value</a> <a href="src/Data-Aeson-Types-Internal.html#object" class="link">Source</a></p><div class="doc"><p>Create a <code><a href="Data-Aeson-Types.html#t:Value">Value</a></code> from a list of name/value <code><a href="Data-Aeson-Types.html#t:Pair">Pair</a></code>s.  If duplicate
 keys arise, earlier keys and their associated values win.</p></div></div><h1 id="g:7">Generic and TH encoding configuration</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Options" class="def">Options</a> <a href="src/Data-Aeson-Types-Internal.html#Options" class="link">Source</a></p><div class="doc"><p>Options that specify how to encode/decode your datatype to/from JSON.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Options" class="def">Options</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:fieldLabelModifier" class="def">fieldLabelModifier</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></dt><dd class="doc"><p>Function applied to field labels.
 Handy for removing common record prefixes for example.</p></dd><dt class="src"><a name="v:constructorTagModifier" class="def">constructorTagModifier</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></dt><dd class="doc"><p>Function applied to constructor tags which could be handy
 for lower-casing them for example.</p></dd><dt class="src"><a name="v:allNullaryToStringTag" class="def">allNullaryToStringTag</a> :: <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></dt><dd class="doc"><p>If <code><a href="../base-4.8.2.0/Data-Bool.html#v:True">True</a></code> the constructors of a datatype, with <em>all</em>
 nullary constructors, will be encoded to just a string with
 the constructor tag. If <code><a href="../base-4.8.2.0/Data-Bool.html#v:False">False</a></code> the encoding will always
 follow the <code><a href="Data-Aeson-Types.html#v:sumEncoding">sumEncoding</a></code>.</p></dd><dt class="src"><a name="v:omitNothingFields" class="def">omitNothingFields</a> :: <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></dt><dd class="doc"><p>If <code><a href="../base-4.8.2.0/Data-Bool.html#v:True">True</a></code> record fields with a <code><a href="../base-4.8.2.0/Data-Maybe.html#v:Nothing">Nothing</a></code> value will be
 omitted from the resulting object. If <code><a href="../base-4.8.2.0/Data-Bool.html#v:False">False</a></code> the resulting
 object will include those fields mapping to <code>null</code>.</p></dd><dt class="src"><a name="v:sumEncoding" class="def">sumEncoding</a> :: <a href="Data-Aeson-Types.html#t:SumEncoding">SumEncoding</a></dt><dd class="doc"><p>Specifies how to encode constructors of a sum datatype.</p></dd></dl><div class="clear"></div></div></td></tr></table></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:SumEncoding" class="def">SumEncoding</a> <a href="src/Data-Aeson-Types-Internal.html#SumEncoding" class="link">Source</a></p><div class="doc"><p>Specifies how to encode constructors of a sum datatype.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:TaggedObject" class="def">TaggedObject</a></td><td class="doc"><p>A constructor will be encoded to an object with a field
 <code><a href="Data-Aeson-Types.html#v:tagFieldName">tagFieldName</a></code> which specifies the constructor tag (modified by
 the <code><a href="Data-Aeson-Types.html#v:constructorTagModifier">constructorTagModifier</a></code>). If the constructor is a record
 the encoded record fields will be unpacked into this object. So
 make sure that your record doesn't have a field with the same
 label as the <code><a href="Data-Aeson-Types.html#v:tagFieldName">tagFieldName</a></code>. Otherwise the tag gets overwritten
 by the encoded value of that field! If the constructor is not a
 record the encoded constructor contents will be stored under
 the <code><a href="Data-Aeson-Types.html#v:contentsFieldName">contentsFieldName</a></code> field.</p></td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:tagFieldName" class="def">tagFieldName</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:contentsFieldName" class="def">contentsFieldName</a> :: <a href="../base-4.8.2.0/Data-String.html#t:String">String</a></dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr><tr><td class="src"><a name="v:ObjectWithSingleField" class="def">ObjectWithSingleField</a></td><td class="doc"><p>A constructor will be encoded to an object with a single
 field named after the constructor tag (modified by the
 <code><a href="Data-Aeson-Types.html#v:constructorTagModifier">constructorTagModifier</a></code>) which maps to the encoded contents of
 the constructor.</p></td></tr><tr><td class="src"><a name="v:TwoElemArray" class="def">TwoElemArray</a></td><td class="doc"><p>A constructor will be encoded to a 2-element array where the
 first element is the tag of the constructor (modified by the
 <code><a href="Data-Aeson-Types.html#v:constructorTagModifier">constructorTagModifier</a></code>) and the second element the encoded
 contents of the constructor.</p></td></tr></table></div></div><div class="top"><p class="src"><a name="v:camelTo" class="def">camelTo</a> :: <a href="../base-4.8.2.0/Data-Char.html#t:Char">Char</a> -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> -&gt; <a href="../base-4.8.2.0/Data-String.html#t:String">String</a> <a href="src/Data-Aeson-Types-Internal.html#camelTo" class="link">Source</a></p><div class="doc"><p>Converts from CamelCase to another lower case, interspersing
   the character between all capital letters and their previous
   entries, except those capital letters that appear together,
   like <code>API</code>.</p><p>For use by Aeson template haskell calls.</p><pre>camelTo '_' 'CamelCaseAPI' == &quot;camel_case_api&quot;</pre></div></div><div class="top"><p class="src"><a name="v:defaultOptions" class="def">defaultOptions</a> :: <a href="Data-Aeson-Types.html#t:Options">Options</a> <a href="src/Data-Aeson-Types-Internal.html#defaultOptions" class="link">Source</a></p><div class="doc"><p>Default encoding <code><a href="Data-Aeson-Types.html#t:Options">Options</a></code>:</p><pre><code><a href="Data-Aeson-Types.html#t:Options">Options</a></code>
{ <code><a href="Data-Aeson-Types.html#v:fieldLabelModifier">fieldLabelModifier</a></code>      = id
, <code><a href="Data-Aeson-Types.html#v:constructorTagModifier">constructorTagModifier</a></code>  = id
, <code><a href="Data-Aeson-Types.html#v:allNullaryToStringTag">allNullaryToStringTag</a></code>   = True
, <code><a href="Data-Aeson-Types.html#v:omitNothingFields">omitNothingFields</a></code>       = False
, <code><a href="Data-Aeson-Types.html#v:sumEncoding">sumEncoding</a></code>             = <code><a href="Data-Aeson-Types.html#v:defaultTaggedObject">defaultTaggedObject</a></code>
}
</pre></div></div><div class="top"><p class="src"><a name="v:defaultTaggedObject" class="def">defaultTaggedObject</a> :: <a href="Data-Aeson-Types.html#t:SumEncoding">SumEncoding</a> <a href="src/Data-Aeson-Types-Internal.html#defaultTaggedObject" class="link">Source</a></p><div class="doc"><p>Default <code><a href="Data-Aeson-Types.html#v:TaggedObject">TaggedObject</a></code> <code><a href="Data-Aeson-Types.html#t:SumEncoding">SumEncoding</a></code> options:</p><pre>defaultTaggedObject = <code><a href="Data-Aeson-Types.html#v:TaggedObject">TaggedObject</a></code>
                      { <code><a href="Data-Aeson-Types.html#v:tagFieldName">tagFieldName</a></code>      = &quot;tag&quot;
                      , <code><a href="Data-Aeson-Types.html#v:contentsFieldName">contentsFieldName</a></code> = &quot;contents&quot;
                      }
</pre></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>